<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FastSewa Medical | Emergency & Health Services</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="css/style.css">     
    <link rel="stylesheet" href="css/footer.css">    
    <link rel="stylesheet" href="css/chatbot.css">   
    
    <style>
        /* --- PAGE STYLES --- */
        body { background-color: #f0fdf4; font-family: 'Poppins', sans-serif; overflow-x: hidden; }

        /* Navbar Fix */
        .navbar {
            position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: 15px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
        }

        /* Hero Section - Medical Green */
        .med-hero {
            position: relative; height: 75vh; min-height: 600px;
            display: flex; align-items: center; justify-content: center;
            text-align: center; color: white;
            background: linear-gradient(135deg, #064e3b 0%, #16a34a 100%);
            margin-top: 80px; overflow: hidden;
        }

        .med-hero::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://images.unsplash.com/photo-1538108149393-fbbd81895907?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
            background-size: cover; background-position: center; opacity: 0.15;
        }

        .hero-content { z-index: 2; padding: 0 20px; }
        .hero-content h1 {
            font-size: 3.5rem; font-weight: 700; margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .hero-content p { font-size: 1.2rem; color: #dcfce7; max-width: 700px; margin: 0 auto; }

        /* --- EMERGENCY WIDGET --- */
        .emergency-section { margin-top: -80px; position: relative; z-index: 10; padding: 0 20px; }
        .emergency-box {
            background: white; border-radius: 20px; padding: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto;
            border-top: 5px solid #ef4444; /* Red for Emergency */
        }
        
        .e-grid { display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 15px; align-items: end; }
        .e-input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; outline: none; }
        .e-btn {
            background: #ef4444; color: white; padding: 12px 30px; border: none;
            border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.3s;
        }
        .e-btn:hover { background: #dc2626; }

        .helpline-results {
            display: none; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px;
            padding-top: 20px; border-top: 1px solid #eee;
        }
        .h-card {
            padding: 15px; border-radius: 10px; text-align: center; color: white;
        }
        .h-card i { font-size: 2rem; margin-bottom: 5px; }
        .h-card h4 { margin: 5px 0; font-size: 1.2rem; }

        /* --- SERVICES GRID --- */
        .section-pad { padding: 80px 0; }
        .section-header { text-align: center; margin-bottom: 50px; }
        .section-header h2 { font-size: 2.2rem; color: #064e3b; font-weight: 700; }
        
        .med-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px;
            max-width: 1200px; margin: 0 auto; padding: 0 20px;
        }

        .med-card {
            background: white; border-radius: 16px; padding: 30px; text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); border: 1px solid #e5e7eb;
            transition: 0.3s; position: relative; overflow: hidden;
        }
        .med-card:hover { transform: translateY(-8px); border-color: #16a34a; }
        
        .icon-box {
            width: 70px; height: 70px; background: #dcfce7; color: #16a34a;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 2rem; margin: 0 auto 20px;
        }

        /* --- HOSPITAL LOCATOR --- */
        .locator-section { background: #fff; padding: 80px 0; }
        .hospital-list { max-width: 800px; margin: 30px auto 0; display: none; }
        .hospital-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px; border-bottom: 1px solid #eee; transition: 0.2s;
        }
        .hospital-item:hover { background: #f9fafb; }
        .hospital-badge { padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: bold; }
        .badge-govt { background: #dbeafe; color: #1e40af; }
        .badge-pvt { background: #fee2e2; color: #991b1b; }

        /* --- BOOKING FORM --- */
        .form-section { padding: 80px 0; background: #064e3b; color: white; }
        .form-container { display: flex; flex-wrap: wrap; gap: 50px; max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        
        .booking-form-card {
            background: white; padding: 40px; border-radius: 20px; color: #333; flex: 1.2; min-width: 350px;
        }
        .form-input, .form-select, .form-textarea {
            width: 100%; padding: 15px; border: 1px solid #cbd5e1; border-radius: 8px;
            font-size: 1rem; margin-bottom: 20px; outline: none;
        }
        .btn-submit {
            width: 100%; padding: 15px; background: #16a34a; color: white; border: none;
            border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1.1rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .e-grid { grid-template-columns: 1fr; }
            .helpline-results { grid-template-columns: 1fr; }
            .form-container { flex-direction: column; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="container nav-container" style="display: flex; justify-content: space-between; align-items: center; width: 90%; margin: 0 auto; max-width: 1200px;">
            <div class="logo">
                <a href="index.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none;">
                    <img src="images/logo1.png" alt="FS" style="height: 50px; width: auto;">
                    <div style="font-size: 24px; font-weight: 800; color: #0f172a;">FastSewa<span> Medical</span></div>
                </a>
            </div>
            <ul class="nav-links" style="display: flex; gap: 30px; list-style: none;">
                <li><a href="index.html" style="color: #0f172a; font-weight: 500; text-decoration: none;">Home</a></li>
                <li><a href="index.html#services" style="color: #0f172a; font-weight: 500; text-decoration: none;">Services</a></li>
                <li id="auth-action">
                    <a href="login.html" style="padding: 10px 25px; border-radius: 50px; background: #16a34a; color: white; font-weight: 600; text-decoration: none;">Login/Signup</a>
                </li>
            </ul>
        </div>
    </nav>

    <header class="med-hero">
        <div class="hero-content">
            <h1>FastSewa Medical Support</h1>
            <p>24/7 Emergency Assistance, Hospital Locator & Professional Staff Hiring.</p>
        </div>
    </header>

    <section class="emergency-section">
        <div class="emergency-box">
            <h3 style="color: #ef4444; margin-bottom: 15px;"><i class="fas fa-siren"></i> Find Emergency Numbers</h3>
            <div class="e-grid">
                <div>
                    <label style="font-size: 0.9rem; color: #666;">Select State</label>
                    <select id="stateSelect" class="e-input">
                        <option value="Bihar">Bihar</option>
                        <option value="UP">Uttar Pradesh</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Jharkhand">Jharkhand</option>
                    </select>
                </div>
                <div>
                    <label style="font-size: 0.9rem; color: #666;">Enter City</label>
                    <input type="text" id="cityInput" class="e-input" placeholder="e.g. Patna, Gaya">
                </div>
                <div>
                    <button class="e-btn" onclick="findHelpline()" style="width: 100%;">Search Numbers</button>
                </div>
            </div>

            <div id="helplineResult" class="helpline-results">
                <div class="h-card" style="background: #ef4444;">
                    <i class="fas fa-ambulance"></i>
                    <h4>Ambulance</h4>
                    <h2 id="ambNum">102</h2>
                </div>
                <div class="h-card" style="background: #f59e0b;">
                    <i class="fas fa-fire-extinguisher"></i>
                    <h4>Fire Brigade</h4>
                    <h2 id="fireNum">101</h2>
                </div>
                <div class="h-card" style="background: #1e3a8a;">
                    <i class="fas fa-shield-alt"></i>
                    <h4>Police</h4>
                    <h2 id="polNum">100</h2>
                </div>
            </div>
        </div>
    </section>

    <section class="section-pad">
        <div class="section-header">
            <h2>Medical Services</h2>
            <p style="color:#64748b;">Book OT, Hire Staff, or Consult Doctors.</p>
        </div>
        <div class="med-grid">
            
            <div class="med-card">
                <div class="icon-box"><i class="fas fa-user-nurse"></i></div>
                <h3>Hire Nurse/Staff</h3>
                <p style="color:#666; margin-bottom: 20px;">Experienced male/female nursing staff for home care.</p>
                <button onclick="scrollToBook('Hire Nurse')" style="background:none; border:1px solid #16a34a; color:#16a34a; padding:8px 20px; border-radius:50px; cursor:pointer;">Hire Now</button>
            </div>

            <div class="med-card">
                <div class="icon-box"><i class="fas fa-procedures"></i></div>
                <h3>OT Booking</h3>
                <p style="color:#666; margin-bottom: 20px;">Book Operation Theaters in top private hospitals.</p>
                <button onclick="scrollToBook('OT Booking')" style="background:none; border:1px solid #16a34a; color:#16a34a; padding:8px 20px; border-radius:50px; cursor:pointer;">Book Slot</button>
            </div>

            <div class="med-card">
                <div class="icon-box"><i class="fas fa-user-md"></i></div>
                <h3>Specialist Doctor</h3>
                <p style="color:#666; margin-bottom: 20px;">Cardiologist, Neurologist & Pediatrician appointments.</p>
                <button onclick="scrollToBook('Doctor Consult')" style="background:none; border:1px solid #16a34a; color:#16a34a; padding:8px 20px; border-radius:50px; cursor:pointer;">Appointment</button>
            </div>

        </div>
    </section>

    <section class="locator-section">
        <div class="container">
            <div class="section-header">
                <h2><i class="fas fa-hospital-alt"></i> Find Hospitals Near You</h2>
                <p>Locate Government & Private Hospitals instantly.</p>
                
                <div style="max-width: 500px; margin: 20px auto; display: flex; gap: 10px;">
                    <input type="text" id="hospCity" class="e-input" placeholder="Enter City (e.g. Patna)">
                    <button onclick="findHospitals()" class="e-btn" style="background: #16a34a;">Search</button>
                </div>
            </div>

            <div id="hospitalList" class="hospital-list">
                </div>
        </div>
    </section>

    <section id="book-section" class="form-section">
        <div class="form-container">
            
            <div style="flex: 1; min-width: 300px; padding-top: 40px;">
                <h2 style="font-size: 2.5rem; margin-bottom: 20px;">Book Medical Support</h2>
                <p style="font-size: 1.1rem; opacity: 0.9; margin-bottom: 30px;">
                    Need a nurse, ambulance, or OT? Fill the form and our medical coordinator will call you within 10 minutes.
                </p>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 15px;"><i class="fas fa-check-circle" style="color: #4ade80; margin-right: 10px;"></i> Verified Medical Staff</li>
                    <li style="margin-bottom: 15px;"><i class="fas fa-check-circle" style="color: #4ade80; margin-right: 10px;"></i> Affordable OT Rates</li>
                    <li style="margin-bottom: 15px;"><i class="fas fa-check-circle" style="color: #4ade80; margin-right: 10px;"></i> 24/7 Helpline Support</li>
                </ul>
            </div>

            <div class="booking-form-card">
                <form id="medicalForm">
                    <input type="text" id="fullName" class="form-input" required placeholder="Patient Name">
                    
                    <div style="display: flex; gap: 15px;">
                        <input type="tel" id="phone" class="form-input" required placeholder="Phone Number">
                        <input type="text" id="city" class="form-input" required placeholder="City">
                    </div>

                    <select id="serviceType" class="form-select">
                        <option value="" disabled selected>Select Service Needed</option>
                        <option value="Ambulance">Emergency Ambulance</option>
                        <option value="Hire Nurse">Hire Nurse / Compounder</option>
                        <option value="OT Booking">Book Operation Theater</option>
                        <option value="General Bed">General Ward Bed</option>
                        <option value="Doctor Visit">Doctor Home Visit</option>
                    </select>

                    <textarea id="message" class="form-textarea" rows="3" placeholder="Describe patient condition or requirement..."></textarea>

                    <button type="submit" id="submitBtn" class="btn-submit">Request Immediate Help</button>
                </form>
            </div>

        </div>
    </section>

    <div id="fastsewa-footer"></div>

    <button class="fastsewa-chatbot-toggle" id="toggleBtn"><i class="fas fa-comment-dots"></i></button>
    <div class="fastsewa-chatbot-container" id="chatbox" style="display: none;">
        <div class="fastsewa-chatbot-header">
            <div><i class="fas fa-robot"></i> FastSewa AI</div>
            <button id="closeBtn" style="background:none; border:none; color:white; cursor:pointer;">✕</button>
        </div>
        <div class="fastsewa-chatbot-body" id="chatBody"></div>
        <div class="fastsewa-chatbot-footer">
            <input id="chatInput" class="fastsewa-chatbot-input" placeholder="Type message..." />
            <button class="fastsewa-chatbot-send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <script src="js/footer.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

    <script>
        // --- 1. Emergency Helpline Logic ---
        function findHelpline() {
            const city = document.getElementById('cityInput').value;
            const state = document.getElementById('stateSelect').value;
            
            if(!city) { alert("Please enter city name"); return; }

            // Simulation of local numbers
            document.getElementById('ambNum').innerText = "102 / 108";
            document.getElementById('fireNum').innerText = "101";
            
            // Random local police number generator for demo
            const localPol = Math.floor(1000000000 + Math.random() * 9000000000);
            document.getElementById('polNum').innerText = `100 / ${localPol.toString().substring(0,4)}...`;

            document.getElementById('helplineResult').style.display = "grid";
        }

        // --- 2. Hospital Locator Logic ---
        function findHospitals() {
            const city = document.getElementById('hospCity').value;
            const list = document.getElementById('hospitalList');
            
            if(!city) { alert("Please enter city"); return; }

            list.innerHTML = `<p style="text-align:center;">Searching hospitals in ${city}...</p>`;
            list.style.display = 'block';

            // Mock Data
            setTimeout(() => {
                list.innerHTML = `
                    <div class="hospital-item">
                        <div>
                            <h4>Sadar Hospital, ${city}</h4>
                            <p style="color:#666; font-size:0.9rem;">Civil Lines, Main Road</p>
                        </div>
                        <span class="hospital-badge badge-govt">GOVT</span>
                    </div>
                    <div class="hospital-item">
                        <div>
                            <h4>City Care Hospital</h4>
                            <p style="color:#666; font-size:0.9rem;">Station Road, ${city}</p>
                        </div>
                        <span class="hospital-badge badge-pvt">PRIVATE</span>
                    </div>
                    <div class="hospital-item">
                        <div>
                            <h4>${city} Trauma Centre</h4>
                            <p style="color:#666; font-size:0.9rem;">Bypass Road</p>
                        </div>
                        <span class="hospital-badge badge-pvt">PRIVATE (OT Available)</span>
                    </div>
                `;
            }, 1000);
        }

        // --- 3. Scroll Helper ---
        function scrollToBook(service) {
            document.getElementById('serviceType').value = service;
            document.getElementById('book-section').scrollIntoView({ behavior: 'smooth' });
        }

        // --- 4. EmailJS Logic ---
        (function () { 
            emailjs.init("82w8_I7wL3TeHxJa6"); 
        })();

        document.getElementById("medicalForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            btn.innerHTML = 'Requesting...';
            btn.disabled = true;

            const formData = {
                from_name: document.getElementById('fullName').value,
                message: `
                    Phone: ${document.getElementById('phone').value}
                    City: ${document.getElementById('city').value}
                    Service: ${document.getElementById('serviceType').value}
                    Condition: ${document.getElementById('message').value}
                `
            };

            emailjs.send("service_ap93y7a", "template_hvuzvq9", formData)
            .then(function() {
                alert("✅ Request Sent! Team will call you shortly.");
                document.getElementById("medicalForm").reset();
                btn.innerHTML = 'Request Immediate Help';
                btn.disabled = false;
            }, function(error) {
                alert("❌ Failed. Call +91 8275723755 immediately.");
                btn.innerHTML = 'Request Immediate Help';
                btn.disabled = false;
            });
        });

        // --- 5. Auth Logic ---
        document.addEventListener("DOMContentLoaded", function() {
            const user = JSON.parse(localStorage.getItem("fastsewaUser"));
            const authAction = document.getElementById("auth-action");

            if (user && user.isLoggedIn && authAction) {
                const firstName = user.name.split(" ")[0];
                authAction.innerHTML = `
                    <div class="user-nav-profile" style="position: relative; display: inline-block;">
                        <a href="dashboard.html" style="display: flex; align-items: center; gap: 10px; text-decoration: none; background: #16a34a; padding: 5px 15px 5px 5px; border-radius: 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                            <div style="width: 35px; height: 35px; background: white; color: #16a34a; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">
                                ${firstName.charAt(0).toUpperCase()}
                            </div>
                            <span style="font-weight: 600; font-size: 14px; color: white;">${firstName}</span>
                        </a>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>